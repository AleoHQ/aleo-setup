# setup1-verifier

## Build Guide

To build the verifier and its accompanying binaries, run:
```bash
cargo build --release
```

## Usage

To run the verifier, start by copying the binaries to your working directory:
```bash
cp ../target/release/setup1-verifier ../target/release/view-key /path/to/working/directory
```

Next, generate and print out a view key:
```bash
# To print the view key to stdout
./view-key

# Or to write it to a file
./view-key > view_key.txt
```

Lastly, run the verifier:
```bash
./setup1-verifier MODE COORDINATOR_API_URL VIEW_KEY
```
where `MODE` is one of `development | inner | outer | universal`,
`COORDINATOR_API_URL` is an address of a coordinator, for example `http://localhost:9000`,
and `VIEW_KEY` is the string generated by the `view-key` binary.

Alternatively, you may use `xargs` to read view key from the file:
```bash
cat view_key.txt | xargs ./setup1-verifier MODE COORDINATOR_API_URL
```

## Log levels

The `setup1-verifier` binary is set up to read the `RUST_LOG` environment
variable to control the logs. Here are some examples:
```bash
# INFO, WARN and ERROR messages will be logged
RUST_LOG=info ./setup1-verifier MODE COORDINATOR_API_URL VIEW_KEY

# We can also control logs in the dependencies. The following command
# will log TRACE, DEBUG, INFO, WARN and ERROR from all the sources
# but only WARN and ERROR from the hyper dependency
RUST_LOG="trace,hyper=warn" ./setup1-verifier MODE COORDINATOR_API_URL VIEW_KEY
```
